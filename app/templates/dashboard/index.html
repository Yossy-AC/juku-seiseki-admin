{% extends "base.html" %}

{% block title %}生徒ダッシュボード - 塾成績管理システム{% endblock %}

{% block content %}
<div class="dashboard-container">
    <header class="dashboard-header">
        <h1>成績管理ダッシュボード</h1>
        <p class="student-info">
            生徒ID: <span id="studentId">{{ student_id }}</span>
        </p>
    </header>

    <!-- 成績テーブル -->
    <section class="grades-section">
        <h2>チェックテスト成績推移</h2>
        <div hx-get="/api/grades/student/{{ student_id }}"
             hx-trigger="load"
             hx-swap="innerHTML">
            <p class="loading">読み込み中...</p>
        </div>
    </section>

    <!-- クラス比較 -->
    <section class="comparison-section">
        <h2>クラス平均との比較</h2>
        <div hx-get="/api/grades/comparison/{{ student_id }}"
             hx-trigger="load"
             hx-swap="innerHTML">
            <p class="loading">計算中...</p>
        </div>
    </section>

    <!-- アドバイス -->
    <section class="advice-section">
        <h2>学習アドバイス</h2>
        <div hx-get="/api/grades/advice/{{ student_id }}"
             hx-trigger="load"
             hx-swap="innerHTML">
            <p class="loading">分析中...</p>
        </div>
    </section>

    <!-- 出席状況 -->
    <section class="attendance-section">
        <h2>出席状況</h2>
        <div hx-get="/api/attendance/student/{{ student_id }}"
             hx-trigger="load"
             hx-swap="innerHTML">
            <p class="loading">読み込み中...</p>
        </div>
    </section>
</div>

<style>
    .dashboard-container {
        max-width: 1000px;
        margin: 0 auto;
        padding: 2rem;
    }

    .dashboard-header {
        margin-bottom: 2rem;
        padding-bottom: 1rem;
        border-bottom: 2px solid #ddd;
    }

    .dashboard-header h1 {
        margin: 0 0 0.5rem 0;
        color: #333;
    }

    .student-info {
        margin: 0;
        color: #666;
        font-size: 0.95rem;
    }

    section {
        margin-bottom: 2.5rem;
        padding: 1.5rem;
        background: #f9f9f9;
        border-radius: 8px;
    }

    section h2 {
        margin-top: 0;
        margin-bottom: 1rem;
        color: #333;
        font-size: 1.3rem;
    }

    .loading {
        color: #999;
        font-style: italic;
    }

    @media (max-width: 768px) {
        .dashboard-container {
            padding: 1rem;
        }

        section {
            padding: 1rem;
        }
    }
</style>
{% endblock %}
